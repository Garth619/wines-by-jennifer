!function(e,t){"use strict";function i(){this.models={},this.collections={},this.views={}}e.wp=e.wp||{},wp.api=wp.api||new i,wp.api.versionString=wp.api.versionString||"wp/v2/",!_.isFunction(_.includes)&&_.isFunction(_.contains)&&(_.includes=_.contains)}(window),function(e,t){"use strict";var i,s;e.wp=e.wp||{},wp.api=wp.api||{},wp.api.utils=wp.api.utils||{},Date.prototype.toISOString||(i=function(e){return s=String(e),1===s.length&&(s="0"+s),s},Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}),wp.api.utils.parseISO8601=function(e){var t,i,s,n,o=0,a=[1,4,5,6,7,10,11];if(i=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e)){for(s=0;n=a[s];++s)i[n]=+i[n]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,"Z"!==i[8]&&void 0!==i[9]&&(o=60*i[10]+i[11],"+"===i[9]&&(o=0-o)),t=Date.UTC(i[1],i[2],i[3],i[4],i[5]+o,i[6],i[7])}else t=Date.parse?Date.parse(e):NaN;return t},wp.api.utils.getRootUrl=function(){return e.location.origin?e.location.origin+"/":e.location.protocol+"/"+e.location.host+"/"},wp.api.utils.capitalize=function(e){return _.isUndefined(e)?e:e.charAt(0).toUpperCase()+e.slice(1)},wp.api.utils.capitalizeAndCamelCaseDashes=function(e){return _.isUndefined(e)?e:(e=wp.api.utils.capitalize(e),wp.api.utils.camelCaseDashes(e))},wp.api.utils.camelCaseDashes=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},wp.api.utils.extractRoutePart=function(e,t,i,s){var n;return t=t||1,i=i||wp.api.versionString,0===e.indexOf("/"+i)&&(e=e.substr(i.length+1)),n=e.split("/"),s&&(n=n.reverse()),_.isUndefined(n[--t])?"":n[t]},wp.api.utils.extractParentName=function(e){var t,i=e.lastIndexOf("_id>[\\d]+)/");return i<0?"":(t=e.substr(0,i-1),t=t.split("/"),t.pop(),t=t.pop())},wp.api.utils.decorateFromRoute=function(e,t){_.each(e,function(e){_.includes(e.methods,"POST")||_.includes(e.methods,"PUT")?_.isEmpty(e.args)||(_.isEmpty(t.prototype.args)?t.prototype.args=e.args:t.prototype.args=_.extend(t.prototype.args,e.args)):_.includes(e.methods,"GET")&&(_.isEmpty(e.args)||(_.isEmpty(t.prototype.options)?t.prototype.options=e.args:t.prototype.options=_.extend(t.prototype.options,e.args)))})},wp.api.utils.addMixinsAndHelpers=function(e,t,i){var s=!1,n=["date","modified","date_gmt","modified_gmt"],o={setDate:function(e,t){var i=t||"date";if(_.indexOf(n,i)<0)return!1;this.set(i,e.toISOString())},getDate:function(e){var t=e||"date",i=this.get(t);return!(_.indexOf(n,t)<0||_.isNull(i))&&new Date(wp.api.utils.parseISO8601(i))}},a=function(e,t,i,s,n){var o,a,r,p;return p=jQuery.Deferred(),a=e.get("_embedded")||{},_.isNumber(t)&&0!==t?(a[s]&&(r=_.findWhere(a[s],{id:t})),r||(r={id:t}),o=new wp.api.models[i](r),o.get(n)?p.resolve(o):o.fetch({success:function(e){p.resolve(e)},error:function(e,t){p.reject(t)}}),p.promise()):(p.reject(),p)},r=function(e,t,i,s){var n,o,a,r="",c="",l=jQuery.Deferred();return n=e.get("id"),o=e.get("_embedded")||{},_.isNumber(n)&&0!==n?(_.isUndefined(i)||_.isUndefined(o[i])?r={parent:n}:c=_.isUndefined(s)?o[i]:o[i][s],a=new wp.api.collections[t](c,r),_.isUndefined(a.models[0])?a.fetch({success:function(e){p(e,n),l.resolve(e)},error:function(e,t){l.reject(t)}}):(p(a,n),l.resolve(a)),l.promise()):(l.reject(),l)},p=function(e,t){_.each(e.models,function(e){e.set("parent_post",t)})},c={getMeta:function(){return r(this,"PostMeta","https://api.w.org/meta")}},l={getRevisions:function(){return r(this,"PostRevisions")}},d={getTags:function(){var e=this.get("tags"),t=new wp.api.collections.Tags;return _.isEmpty(e)?jQuery.Deferred().resolve([]):t.fetch({data:{include:e}})},setTags:function(e){var t,i,s=this,n=[];if(_.isString(e))return!1;_.isArray(e)?(t=new wp.api.collections.Tags,t.fetch({data:{per_page:100},success:function(t){_.each(e,function(e){i=new wp.api.models.Tag(t.findWhere({slug:e})),i.set("parent_post",s.get("id")),n.push(i)}),e=new wp.api.collections.Tags(n),s.setTagsWithCollection(e)}})):this.setTagsWithCollection(e)},setTagsWithCollection:function(e){return this.set("tags",e.pluck("id")),this.save()}},u={getCategories:function(){var e=this.get("categories"),t=new wp.api.collections.Categories;return _.isEmpty(e)?jQuery.Deferred().resolve([]):t.fetch({data:{include:e}})},setCategories:function(e){var t,i,s=this,n=[];if(_.isString(e))return!1;_.isArray(e)?(t=new wp.api.collections.Categories,t.fetch({data:{per_page:100},success:function(t){_.each(e,function(e){i=new wp.api.models.Category(t.findWhere({slug:e})),i.set("parent_post",s.get("id")),n.push(i)}),e=new wp.api.collections.Categories(n),s.setCategoriesWithCollection(e)}})):this.setCategoriesWithCollection(e)},setCategoriesWithCollection:function(e){return this.set("categories",e.pluck("id")),this.save()}},g={getAuthorUser:function(){return a(this,this.get("author"),"User","author","name")}},h={getFeaturedMedia:function(){return a(this,this.get("featured_media"),"Media","wp:featuredmedia","source_url")}};return _.isUndefined(e.prototype.args)?e:(_.each(n,function(t){_.isUndefined(e.prototype.args[t])||(s=!0)}),s&&(e=e.extend(o)),_.isUndefined(e.prototype.args.author)||(e=e.extend(g)),_.isUndefined(e.prototype.args.featured_media)||(e=e.extend(h)),_.isUndefined(e.prototype.args.categories)||(e=e.extend(u)),_.isUndefined(i.collections[t+"Meta"])||(e=e.extend(c)),_.isUndefined(e.prototype.args.tags)||(e=e.extend(d)),_.isUndefined(i.collections[t+"Revisions"])||(e=e.extend(l)),e)}}(window),function(){"use strict";var e=window.wpApiSettings||{};wp.api.WPApiBaseModel=Backbone.Model.extend({sync:function(t,i,s){var n;return s=s||{},_.isNull(i.get("date_gmt"))&&i.unset("date_gmt"),_.isEmpty(i.get("slug"))&&i.unset("slug"),_.isUndefined(e.nonce)||_.isNull(e.nonce)||(n=s.beforeSend,s.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",e.nonce),n)return n.apply(this,arguments)}),this.requireForceForDelete&&"delete"===t&&(i.url=i.url()+"?force=true"),Backbone.sync(t,i,s)},save:function(e,t){return!(!_.includes(this.methods,"PUT")&&!_.includes(this.methods,"POST"))&&Backbone.Model.prototype.save.call(this,e,t)},destroy:function(e){return!!_.includes(this.methods,"DELETE")&&Backbone.Model.prototype.destroy.call(this,e)}}),wp.api.models.Schema=wp.api.WPApiBaseModel.extend({defaults:{_links:{},namespace:null,routes:{}},initialize:function(t,i){var s=this;i=i||{},wp.api.WPApiBaseModel.prototype.initialize.call(s,t,i),s.apiRoot=i.apiRoot||e.root,s.versionString=i.versionString||e.versionString},url:function(){return this.apiRoot+this.versionString}})}(),function(){"use strict";var e=window.wpApiSettings||{};wp.api.WPApiBaseCollection=Backbone.Collection.extend({initialize:function(e,t){this.state={data:{},currentPage:null,totalPages:null,totalObjects:null},_.isUndefined(t)?this.parent="":this.parent=t.parent},sync:function(t,i,s){var n,o,a=this;return s=s||{},n=s.beforeSend,void 0!==e.nonce&&(s.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",e.nonce),n)return n.apply(a,arguments)}),"read"===t&&(s.data?(a.state.data=_.clone(s.data),delete a.state.data.page):a.state.data=s.data={},void 0===s.data.page?(a.state.currentPage=null,a.state.totalPages=null,a.state.totalObjects=null):a.state.currentPage=s.data.page-1,o=s.success,s.success=function(e,t,i){if(_.isUndefined(i)||(a.state.totalPages=parseInt(i.getResponseHeader("x-wp-totalpages"),10),a.state.totalObjects=parseInt(i.getResponseHeader("x-wp-total"),10)),null===a.state.currentPage?a.state.currentPage=1:a.state.currentPage++,o)return o.apply(this,arguments)}),Backbone.sync(t,i,s)},more:function(e){if(e=e||{},e.data=e.data||{},_.extend(e.data,this.state.data),void 0===e.data.page){if(!this.hasMore())return!1;null===this.state.currentPage||this.state.currentPage<=1?e.data.page=2:e.data.page=this.state.currentPage+1}return this.fetch(e)},hasMore:function(){return null===this.state.totalPages||null===this.state.totalObjects||null===this.state.currentPage?null:this.state.currentPage<this.state.totalPages}})}(),function(){"use strict";var e,t={},i=window.wpApiSettings||{};window.wp=window.wp||{},wp.api=wp.api||{},_.isEmpty(i)&&(i.root=window.location.origin+"/wp-json/"),e=Backbone.Model.extend({defaults:{apiRoot:i.root,versionString:wp.api.versionString,schema:null,models:{},collections:{}},initialize:function(){var e=this,t;Backbone.Model.prototype.initialize.apply(e,arguments),t=jQuery.Deferred(),e.schemaConstructed=t.promise(),e.schemaModel=new wp.api.models.Schema(null,{apiRoot:e.get("apiRoot"),versionString:e.get("versionString")}),e.schemaModel.once("change",function(){e.constructFromSchema(),t.resolve(e)}),e.get("schema")?e.schemaModel.set(e.schemaModel.parse(e.get("schema"))):!_.isUndefined(sessionStorage)&&(_.isUndefined(i.cacheSchema)||i.cacheSchema)&&sessionStorage.getItem("wp-api-schema-model"+e.get("apiRoot")+e.get("versionString"))?e.schemaModel.set(e.schemaModel.parse(JSON.parse(sessionStorage.getItem("wp-api-schema-model"+e.get("apiRoot")+e.get("versionString"))))):e.schemaModel.fetch({success:function(t){if(!_.isUndefined(sessionStorage)&&(_.isUndefined(i.cacheSchema)||i.cacheSchema))try{sessionStorage.setItem("wp-api-schema-model"+e.get("apiRoot")+e.get("versionString"),JSON.stringify(t))}catch(e){}},error:function(e){window.console.log(e)}})},constructFromSchema:function(){var e=this,t,s,n,o,a=i.mapping||{models:{Categories:"Category",Comments:"Comment",Pages:"Page",PagesMeta:"PageMeta",PagesRevisions:"PageRevision",Posts:"Post",PostsCategories:"PostCategory",PostsRevisions:"PostRevision",PostsTags:"PostTag",Schema:"Schema",Statuses:"Status",Tags:"Tag",Taxonomies:"Taxonomy",Types:"Type",Users:"User"},collections:{PagesMeta:"PageMeta",PagesRevisions:"PageRevisions",PostsCategories:"PostCategories",PostsMeta:"PostMeta",PostsRevisions:"PostRevisions",PostsTags:"PostTags"}};t=[],s=[],n=e.get("apiRoot").replace(wp.api.utils.getRootUrl(),""),o={},o.models=e.get("models"),o.collections=e.get("collections"),_.each(e.schemaModel.get("routes"),function(i,o){o!==e.get(" versionString")&&o!==n&&o!=="/"+e.get("versionString").slice(0,-1)&&(/(?:.*[+)]|\/me)$/.test(o)?t.push({index:o,route:i}):s.push({index:o,route:i}))}),_.each(t,function(t){var i,s=wp.api.utils.extractRoutePart(t.index,2,e.get("versionString"),!0),n=wp.api.utils.extractRoutePart(t.index,1,e.get("versionString"),!1),r=wp.api.utils.extractRoutePart(t.index,1,e.get("versionString"),!0);n===e.get("versionString")&&(n=""),"me"===r&&(s="me"),""!==n&&n!==s?(i=wp.api.utils.capitalizeAndCamelCaseDashes(n)+wp.api.utils.capitalizeAndCamelCaseDashes(s),i=a.models[i]||i,o.models[i]=wp.api.WPApiBaseModel.extend({url:function(){var t=e.get("apiRoot")+e.get("versionString")+n+"/"+(_.isUndefined(this.get("parent"))||0===this.get("parent")?_.isUndefined(this.get("parent_post"))?"":this.get("parent_post")+"/":this.get("parent")+"/")+s;return _.isUndefined(this.get("id"))||(t+="/"+this.get("id")),t},route:t,name:i,methods:t.route.methods,initialize:function(e,t){wp.api.WPApiBaseModel.prototype.initialize.call(this,e,t),"Posts"!==this.name&&"Pages"!==this.name&&_.includes(this.methods,"DELETE")&&(this.requireForceForDelete=!0)}})):(i=wp.api.utils.capitalizeAndCamelCaseDashes(s),i=a.models[i]||i,o.models[i]=wp.api.WPApiBaseModel.extend({url:function(){var t=e.get("apiRoot")+e.get("versionString")+("me"===s?"users/me":s);return _.isUndefined(this.get("id"))||(t+="/"+this.get("id")),t},route:t,name:i,methods:t.route.methods})),wp.api.utils.decorateFromRoute(t.route.endpoints,o.models[i],e.get("versionString"))}),_.each(s,function(t){var i,s,n=t.index.slice(t.index.lastIndexOf("/")+1),r=wp.api.utils.extractRoutePart(t.index,1,e.get("versionString"),!1);""!==r&&r!==n&&e.get("versionString")!==r?(i=wp.api.utils.capitalizeAndCamelCaseDashes(r)+wp.api.utils.capitalizeAndCamelCaseDashes(n),s=a.models[i]||i,i=a.collections[i]||i,o.collections[i]=wp.api.WPApiBaseCollection.extend({url:function(){return e.get("apiRoot")+e.get("versionString")+r+"/"+this.parent+"/"+n},model:function(e,t){return new o.models[s](e,t)},name:i,route:t,methods:t.route.methods})):(i=wp.api.utils.capitalizeAndCamelCaseDashes(n),s=a.models[i]||i,i=a.collections[i]||i,o.collections[i]=wp.api.WPApiBaseCollection.extend({url:e.get("apiRoot")+e.get("versionString")+n,model:function(e,t){return new o.models[s](e,t)},name:i,route:t,methods:t.route.methods})),wp.api.utils.decorateFromRoute(t.route.endpoints,o.collections[i])}),_.each(o.models,function(e,t){o.models[t]=wp.api.utils.addMixinsAndHelpers(e,t,o)})}}),wp.api.endpoints=new Backbone.Collection({model:e}),wp.api.init=function(s){var n,o={},a,r;return s=s||{},o.apiRoot=s.apiRoot||i.root,o.versionString=s.versionString||i.versionString,o.schema=s.schema||null,o.schema||o.apiRoot!==i.root||o.versionString!==i.versionString||(o.schema=i.schema),t[o.apiRoot+o.versionString]||(n=wp.api.endpoints.findWhere({apiRoot:o.apiRoot,versionString:o.versionString}),n||(n=new e(o),wp.api.endpoints.add(n)),a=jQuery.Deferred(),r=a.promise(),n.schemaConstructed.done(function(e){wp.api.models=_.extend(e.get("models"),wp.api.models),wp.api.collections=_.extend(e.get("collections"),wp.api.collections),a.resolveWith(wp.api,[e])}),t[o.apiRoot+o.versionString]=r),t[o.apiRoot+o.versionString]},wp.api.loadPromise=wp.api.init()}();